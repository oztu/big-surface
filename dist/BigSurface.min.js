!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.BigSurface=t()}}(function(){var t;return function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=i[s]={exports:{}};t[s][0].call(l.exports,function(e){var i=t[s][1][e];return r(i?i:e)},l,l.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,i,n){(function(r){!function(e){if("object"==typeof n&&"undefined"!=typeof i)i.exports=e();else if("function"==typeof t&&t.amd)t([],e);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof r?o=r:"undefined"!=typeof self&&(o=self),o.easyTween=e()}}(function(){return function t(i,n,r){function o(a,c){if(!n[a]){if(!i[a]){var l="function"==typeof e&&e;if(!c&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};i[a][0].call(u.exports,function(t){var e=i[a][1][t];return o(e?e:t)},u,u.exports,t,i,n,r)}return n[a].exports}for(var s="function"==typeof e&&e,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,i){"use strict";i.linear=function(t,e,i,n){return i*t/n+e},i.quadraticIn=function(t,e,i,n){return i*(t/=n)*t+e},i.quadraticOut=function(t,e,i,n){return-i*(t/=n)*(t-2)+e},i.quadraticInOut=function(t,e,i,n){return t/=n/2,1>t?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},i.cubicIn=function(t,e,i,n){return i*(t/=n)*t*t+e},i.cubicOut=function(t,e,i,n){return t/=n,i*(--t*t*t+1)+e},i.cubicInOut=function(t,e,i,n){return t/=n/2,1>t?i*(t/=n)*t*t+e:i/2*((t-=2)*t*t+2)+e};var n=Math.PI/2;i.sinusoidalIn=function(t,e,i,r){return-i*Math.cos(t/r*n)+i+e},i.sinusoidalOut=function(t,e,i,r){return i*Math.sin(t/r*n)+e},i.sinusoidalInOut=function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},i.exponentialIn=function(t,e,i,n){return i*Math.pow(2,10*(t/n-1))+e},i.exponentialOut=function(t,e,i,n){return i*(-Math.pow(2,-10*t/n)+1)+e},i.exponentialInOut=function(t,e,i,n){return t/=n/2,1>t?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e}},{}],2:[function(t,e){"use strict";var i,n=e.exports=function(t,e,i,n,r,o){function s(){f||(f=!0,cancelAnimationFrame(l),p=Date.now())}function a(){f&&(f=!1,d+=Date.now()-p,l=requestAnimationFrame(c))}function c(){var n=Date.now()-d;r>n?(e[i]=t(n,u,h,r),l=requestAnimationFrame(c)):(e[i]=t(r,u,h,r),o&&o())}r=r||0;var l,u=e[i],h=n-u,d=Date.now(),p=d,f=!0;return a(),{resume:a,pause:s}},r=t("./easing.js");for(i in r)r.hasOwnProperty(i)&&(n[i]=n.bind(void 0,r[i]));n.easing=r},{"./easing.js":1}]},{},[2])(2)})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,i){(function(){"use strict";function e(){}function n(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function r(t){return function(){return this[t].apply(this,arguments)}}var o=e.prototype,s=this,a=s.EventEmitter;o.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},o.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},o.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},o.addListener=function(t,e){var i,r=this.getListenersAsObject(t),o="object"==typeof e;for(i in r)r.hasOwnProperty(i)&&-1===n(r[i],e)&&r[i].push(o?e:{listener:e,once:!1});return this},o.on=r("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=r("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,e){var i,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&(i=n(o[r],e),-1!==i&&o[r].splice(i,1));return this},o.off=r("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,i){var n,r,o=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(r=e[n])&&("function"==typeof r?o.call(this,n,r):s.call(this,n,r));return this},o.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},o.removeAllListeners=r("removeEvent"),o.emitEvent=function(t,e){var i,n,r,o,s=this.getListenersAsObject(t);for(r in s)if(s.hasOwnProperty(r))for(n=s[r].length;n--;)i=s[r][n],i.once===!0&&this.removeListener(t,i.listener),o=i.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},o.trigger=r("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return s.EventEmitter=a,e},"function"==typeof t&&t.amd?t(function(){return e}):"object"==typeof i&&i.exports?i.exports=e:this.EventEmitter=e}).call(this)},{}],3:[function(e,i){!function(e,n){"use strict";function r(){o.READY||(_.determineEventTypes(),v.each(o.gestures,function(t){b.register(t)}),_.onTouch(o.DOCUMENT,f,b.detect),_.onTouch(o.DOCUMENT,m,b.detect),o.READY=!0)}var o=function(t,e){return new o.Instance(t,e||{})};o.VERSION="1.0.11",o.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},o.HAS_POINTEREVENTS=e.navigator.pointerEnabled||e.navigator.msPointerEnabled,o.HAS_TOUCHEVENTS="ontouchstart"in e,o.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,o.NO_MOUSEEVENTS=o.HAS_TOUCHEVENTS&&e.navigator.userAgent.match(o.MOBILE_REGEX),o.EVENT_TYPES={},o.UPDATE_VELOCITY_INTERVAL=16,o.DOCUMENT=e.document;var s=o.DIRECTION_DOWN="down",a=o.DIRECTION_LEFT="left",c=o.DIRECTION_UP="up",l=o.DIRECTION_RIGHT="right",u=o.POINTER_MOUSE="mouse",h=o.POINTER_TOUCH="touch",d=o.POINTER_PEN="pen",p=o.EVENT_START="start",f=o.EVENT_MOVE="move",m=o.EVENT_END="end";o.plugins=o.plugins||{},o.gestures=o.gestures||{},o.READY=!1;var v=o.utils={extend:function(t,e,i){for(var r in e)t[r]!==n&&i||(t[r]=e[r]);return t},each:function(t,e,i){var r,o;if("forEach"in t)t.forEach(e,i);else if(t.length!==n){for(r=-1;o=t[++r];)if(e.call(i,o,r,t)===!1)return}else for(r in t)if(t.hasOwnProperty(r)&&e.call(i,t[r],r,t)===!1)return},inStr:function(t,e){return t.indexOf(e)>-1},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],i=[],n=[],r=[],o=Math.min,s=Math.max;return 1===t.length?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(v.each(t,function(t){e.push(t.pageX),i.push(t.pageY),n.push(t.clientX),r.push(t.clientY)}),{pageX:(o.apply(Math,e)+s.apply(Math,e))/2,pageY:(o.apply(Math,i)+s.apply(Math,i))/2,clientX:(o.apply(Math,n)+s.apply(Math,n))/2,clientY:(o.apply(Math,r)+s.apply(Math,r))/2})},getVelocity:function(t,e,i){return{x:Math.abs(e/t)||0,y:Math.abs(i/t)||0}},getAngle:function(t,e){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,e){var i=Math.abs(t.clientX-e.clientX),n=Math.abs(t.clientY-e.clientY);return i>=n?t.clientX-e.clientX>0?a:l:t.clientY-e.clientY>0?c:s},getDistance:function(t,e){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(i*i+n*n)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==c||t==s},toggleDefaultBehavior:function(t,e,i){if(e&&t&&t.style){v.each(["webkit","moz","Moz","ms","o",""],function(n){v.each(e,function(e,r){n&&(r=n+r.substring(0,1).toUpperCase()+r.substring(1)),r in t.style&&(t.style[r]=!i&&e)})});var n=function(){return!1};"none"==e.userSelect&&(t.onselectstart=!i&&n),"none"==e.userDrag&&(t.ondragstart=!i&&n)}}};o.Instance=function(t,e){var i=this;return r(),this.element=t,this.enabled=!0,this.options=v.extend(v.extend({},o.defaults),e||{}),this.options.stop_browser_behavior&&v.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!1),this.eventStartHandler=_.onTouch(t,p,function(t){i.enabled&&b.startDetect(i,t)}),this.eventHandlers=[],this},o.Instance.prototype={on:function(t,e){var i=t.split(" ");return v.each(i,function(t){this.element.addEventListener(t,e,!1),this.eventHandlers.push({gesture:t,handler:e})},this),this},off:function(t,e){var i,n,r=t.split(" ");return v.each(r,function(t){for(this.element.removeEventListener(t,e,!1),i=-1;n=this.eventHandlers[++i];)n.gesture===t&&n.handler===e&&this.eventHandlers.splice(i,1)},this),this},trigger:function(t,e){e||(e={});var i=o.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e;var n=this.element;return v.hasParent(e.target,n)&&(n=e.target),n.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(this.options.stop_browser_behavior&&v.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!0),t=-1;e=this.eventHandlers[++t];)this.element.removeEventListener(e.gesture,e.handler,!1);return this.eventHandlers=[],_.unbindDom(this.element,o.EVENT_TYPES[p],this.eventStartHandler),null}};var g=null,y=!1,E=!1,_=o.event={bindDom:function(t,e,i){var n=e.split(" ");v.each(n,function(e){t.addEventListener(e,i,!1)})},unbindDom:function(t,e,i){var n=e.split(" ");v.each(n,function(e){t.removeEventListener(e,i,!1)})},onTouch:function(t,e,i){var n=this,r=function(r){var s=r.type.toLowerCase();if(!v.inStr(s,"mouse")||!E){v.inStr(s,"touch")||v.inStr(s,"pointerdown")||v.inStr(s,"mouse")&&1===r.which?y=!0:v.inStr(s,"mouse")&&!r.which&&(y=!1),(v.inStr(s,"touch")||v.inStr(s,"pointer"))&&(E=!0);var a=0;y&&(o.HAS_POINTEREVENTS&&e!=m?a=T.updatePointer(e,r):v.inStr(s,"touch")?a=r.touches.length:E||(a=v.inStr(s,"up")?0:1),a>0&&e==m?e=f:a||(e=m),(a||null===g)&&(g=r),i.call(b,n.collectEventData(t,e,n.getTouchList(g,e),r)),o.HAS_POINTEREVENTS&&e==m&&(a=T.updatePointer(e,r))),a||(g=null,y=!1,E=!1,T.reset())}};return this.bindDom(t,o.EVENT_TYPES[e],r),r},determineEventTypes:function(){var t;t=o.HAS_POINTEREVENTS?T.getEvents():o.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],o.EVENT_TYPES[p]=t[0],o.EVENT_TYPES[f]=t[1],o.EVENT_TYPES[m]=t[2]},getTouchList:function(t){return o.HAS_POINTEREVENTS?T.getTouchList():t.touches?t.touches:(t.identifier=1,[t])},collectEventData:function(t,e,i,n){var r=h;return(v.inStr(n.type,"mouse")||T.matchType(u,n))&&(r=u),{center:v.getCenter(i),timeStamp:Date.now(),target:n.target,touches:i,eventType:e,pointerType:r,srcEvent:n,preventDefault:function(){var t=this.srcEvent;t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return b.stopDetect()}}}},T=o.PointerEvent={pointers:{},getTouchList:function(){var t=[];return v.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(t,e){return t==m?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e),Object.keys(this.pointers).length},matchType:function(t,e){if(!e.pointerType)return!1;var i=e.pointerType,n={};return n[u]=i===u,n[h]=i===h,n[d]=i===d,n[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},b=o.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:v.extend({},e),lastEvent:!1,lastVelocityEvent:!1,velocity:!1,name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst,i=e.options;return v.each(this.gestures,function(n){return this.stopped||i[n.name]===!1||e.enabled===!1||n.handler.call(n,t,e)!==!1?void 0:(this.stopDetect(),!1)},this),this.current&&(this.current.lastEvent=t),t.eventType==m&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=v.extend({},this.current),this.current=null,this.stopped=!0},getVelocityData:function(t,e,i,n){var r=this.current,s=r.lastVelocityEvent,a=r.velocity;s&&t.timeStamp-s.timeStamp>o.UPDATE_VELOCITY_INTERVAL?(a=v.getVelocity(t.timeStamp-s.timeStamp,t.center.clientX-s.center.clientX,t.center.clientY-s.center.clientY),r.lastVelocityEvent=t):r.velocity||(a=v.getVelocity(e,i,n),r.lastVelocityEvent=t),r.velocity=a,t.velocityX=a.x,t.velocityY=a.y},getInterimData:function(t){var e,i,n=this.current.lastEvent;t.eventType==m?(e=n&&n.interimAngle,i=n&&n.interimDirection):(e=n&&v.getAngle(n.center,t.center),i=n&&v.getDirection(n.center,t.center)),t.interimAngle=e,t.interimDirection=i},extendEventData:function(t){var e=this.current,i=e.startEvent;(t.touches.length!=i.touches.length||t.touches===i.touches)&&(i.touches=[],v.each(t.touches,function(t){i.touches.push(v.extend({},t))}));var n=t.timeStamp-i.timeStamp,r=t.center.clientX-i.center.clientX,o=t.center.clientY-i.center.clientY;return this.getVelocityData(t,n,r,o),this.getInterimData(t),v.extend(t,{startEvent:i,deltaTime:n,deltaX:r,deltaY:o,distance:v.getDistance(i.center,t.center),angle:v.getAngle(i.center,t.center),direction:v.getDirection(i.center,t.center),scale:v.getScale(i.touches,t.touches),rotation:v.getRotation(i.touches,t.touches)}),t},register:function(t){var e=t.defaults||{};return e[t.name]===n&&(e[t.name]=!0),v.extend(o.defaults,e,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}};o.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,e){var i=b.current;if(i.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(e.options.drag_max_touches>0&&t.touches.length>e.options.drag_max_touches))switch(t.eventType){case p:this.triggered=!1;break;case f:if(t.distance<e.options.drag_min_distance&&i.name!=this.name)return;var n=i.startEvent.center;if(i.name!=this.name&&(i.name=this.name,e.options.correct_for_drag_min_distance&&t.distance>0)){var r=Math.abs(e.options.drag_min_distance/t.distance);n.pageX+=t.deltaX*r,n.pageY+=t.deltaY*r,n.clientX+=t.deltaX*r,n.clientY+=t.deltaY*r,t=b.extendEventData(t)}(i.lastEvent.drag_locked_to_axis||e.options.drag_lock_to_axis&&e.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var o=i.lastEvent.direction;t.drag_locked_to_axis&&o!==t.direction&&(t.direction=v.isVertical(o)?t.deltaY<0?c:s:t.deltaX<0?a:l),this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),e.trigger(this.name+t.direction,t);var u=v.isVertical(t.direction);(e.options.drag_block_vertical&&u||e.options.drag_block_horizontal&&!u)&&t.preventDefault();break;case m:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}},o.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:2},timer:null,handler:function(t,e){switch(t.eventType){case p:clearTimeout(this.timer),b.current.name=this.name,this.timer=setTimeout(function(){"hold"==b.current.name&&e.trigger("hold",t)},e.options.hold_timeout);break;case f:t.distance>e.options.hold_threshold&&clearTimeout(this.timer);break;case m:clearTimeout(this.timer)}}},o.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==m&&e.trigger(this.name,t)}},o.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(t,e){if(t.eventType==m){if(t.touches.length<e.options.swipe_min_touches||t.touches.length>e.options.swipe_max_touches)return;(t.velocityX>e.options.swipe_velocity||t.velocityY>e.options.swipe_velocity)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},o.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},has_moved:!1,handler:function(t,e){var i,n,r;t.eventType==p?this.has_moved=!1:t.eventType!=f||this.moved?t.eventType==m&&"touchcancel"!=t.srcEvent.type&&t.deltaTime<e.options.tap_max_touchtime&&!this.has_moved&&(i=b.previous,n=i&&i.lastEvent&&t.timeStamp-i.lastEvent.timeStamp,r=!1,i&&"tap"==i.name&&n&&n<e.options.doubletap_interval&&t.distance<e.options.doubletap_distance&&(e.trigger("doubletap",t),r=!0),(!r||e.options.tap_always)&&(b.current.name="tap",e.trigger(b.current.name,t))):this.has_moved=t.distance>e.options.tap_max_distance}},o.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,e){return e.options.prevent_mouseevents&&t.pointerType==u?void t.stopDetect():(e.options.prevent_default&&t.preventDefault(),void(t.eventType==p&&e.trigger(this.name,t)))}},o.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1,transform_within_instance:!1},triggered:!1,handler:function(t,e){if(b.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(t.touches.length<2)){if(e.options.transform_always_block&&t.preventDefault(),e.options.transform_within_instance)for(var i=-1;t.touches[++i];)if(!v.hasParent(t.touches[i].target,e.element))return;switch(t.eventType){case p:this.triggered=!1;break;case f:var n=Math.abs(1-t.scale),r=Math.abs(t.rotation);if(n<e.options.transform_min_scale&&r<e.options.transform_min_rotation)return;b.current.name=this.name,this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),r>e.options.transform_min_rotation&&e.trigger("rotate",t),n>e.options.transform_min_scale&&(e.trigger("pinch",t),e.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case m:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}}},"function"==typeof t&&t.amd?t(function(){return o}):"object"==typeof i&&i.exports?i.exports=o:e.Hammer=o}(window)},{}],4:[function(t,e){"use strict";function i(t){t.preventDefault()}var n=t("../bower_components/eventEmitter/EventEmitter.js"),r=t("../bower_components/hammerjs/hammer.js"),o="ontouchstart"in document.documentElement,s=t("./utils.js"),a=t("../bower_components/easy-tween/dist/easyTween.js"),c=e.exports=function(t){this.container=t,this.element=document.createElement("div"),this.element.style.position="absolute",t.appendChild(this.element),this.refit(),this.emitter=new n,this.horizontalPosition=0,this.verticalPosition=0,this.horizontalVelocity=0,this.verticalVelocity=0,this.cssTransitions={},this.cssFilters={},this.cssTransforms={},this.pointerEventHandler=this.pointerEventHandler.bind(this),this.dragEventHandler=this.dragEventHandler.bind(this),this.transformStep=this.transformStep.bind(this)};c.create=function(t){var e=new c(t);return c.getApi(e)},c.getApi=function(t){var e={};return e.on=t.emitter.on.bind(t.emitter),e.removeListener=t.emitter.removeListener.bind(t.emitter),e.refit=t.refit.bind(t),e.element=t.element,e.container=t.container,e.css=t.setCssStyle.bind(t),e.cssTransform=t.setCssTransform.bind(t),e.cssFilter=t.setCssFilter.bind(t),e.cssTransition=t.setCssTransition.bind(t),e.speed=t.setVelocityScalar.bind(t),e.horizontalSpeed=t.setHorizontalVelocityScalar.bind(t),e.verticalSpeed=t.setVerticalVelocityScalar.bind(t),e.horizontalWind=t.setBaseHorizontalVelocity.bind(t),e.verticalWind=t.setBaseVerticalVelocity.bind(t),Object.defineProperty(e,"speedGradient",{get:function(){return t.horizontalVelocityGradient===t.verticalVelocityGradient?t.horizontalVelocityGradient:void 0},set:function(e){t.horizontalVelocityGradient=e,t.verticalVelocityGradient=e}}),Object.defineProperty(e,"horizontalVelocityGradient",{get:function(){return t.horizontalVelocityGradient},set:function(e){t.horizontalVelocityGradient=e}}),Object.defineProperty(e,"verticalVelocityGradient",{get:function(){return t.verticalVelocityGradient},set:function(e){t.verticalVelocityGradient=e}}),Object.defineProperty(e,"width",{get:function(){return t.width}}),Object.defineProperty(e,"height",{get:function(){return t.height}}),Object.defineProperty(e,"top",{get:function(){return t.top}}),Object.defineProperty(e,"left",{get:function(){return t.left}}),e},c.prototype.horizontalVelocityScalar=0,c.prototype.verticalVelocityScalar=0,c.prototype.baseHorizontalVelocity=0,c.prototype.baseVerticalVelocity=0,c.prototype.msPerStep=16,c.prototype.horizontalVelocityGradient=a.easing.quadraticIn,c.prototype.verticalVelocityGradient=a.easing.quadraticIn,c.prototype.pointerTrackingEvents=["mousemove"],c.prototype.refit=function(){var t=this.container.getBoundingClientRect();this.width=t.width,this.halfWidth=this.width/2,this.height=t.height,this.halfHeight=this.height/2,this.top=t.top,this.left=t.left},c.prototype.startTransformLoop=function(){this.transforming||(this.transforming=!0,this.lastStepTime=Date.now(),this.animationRequestId=requestAnimationFrame(this.transformStep),this.attachPointerListeners(),this.emitter.emit("move start"))},c.prototype.stopTransformLoop=function(){this.transforming&&(this.transforming=!1,cancelAnimationFrame(this.animationRequestId),this.emitter.emit("move stop"))},c.prototype.transformStep=function(){var t=Date.now(),e=(t-this.lastStepTime)/this.msPerStep;this.lastHorizontalDisplacement=e*(this.baseHorizontalVelocity+this.horizontalVelocity*this.horizontalVelocityScalar),this.lastVerticalDisplacement=e*(this.baseVerticalVelocity+this.verticalVelocity*this.verticalVelocityScalar),this.lastStepTime=t,this.lastHorizontalDisplacement||this.lastVerticalDisplacement?(this.horizontalPosition+=this.lastHorizontalDisplacement,this.verticalPosition+=this.lastVerticalDisplacement,this.setCssTransform("translate",this.horizontalPosition+"px, "+this.verticalPosition+"px"),this.animationRequestId=requestAnimationFrame(this.transformStep)):(this.trackingPointer||this.baseHorizontalVelocity||this.baseVerticalVelocity)&&(this.animationRequestId=requestAnimationFrame(this.transformStep))},c.prototype.setBaseHorizontalVelocity=function(t,e,i){return void 0===t?this.baseHorizontalVelocity:(this.horizontalWindTween&&this.horizontalWindTween.pause(),void(e?(e*=1e3,i=i||this.baseHorizontalVelocity<t?a.easing.quadraticIn:a.easing.quadraticOut,this.horizontalWindTween=a(i,this,"baseHorizontalVelocity",t,e)):this.baseHorizontalVelocity=t))},c.prototype.setBaseVerticalVelocity=function(t,e,i){return void 0===t?this.baseVerticalVelocity:(this.verticalWindTween&&this.verticalWindTween.pause(),void(e?(e*=1e3,i=i||this.baseVerticalVelocity<t?a.easing.quadraticIn:a.easing.quadraticOut,this.verticalWindTween=a(i,this,"baseVerticalVelocity",t,e)):this.baseVerticalVelocity=t))},c.prototype.setVelocityScalar=function(t,e,i,n){return void 0===t?this.horizontalVelocityScalar===this.verticalVelocityScalar?this.horizontalVelocityScalar:void 0:(this.setHorizontalVelocityScalar(t,e,i,n),void this.setVerticalVelocityScalar(t,e,i))},c.prototype.setHorizontalVelocityScalar=function(t,e,i,n){return void 0===t?this.horizontalVelocityScalar:(this.horizontalSpeedTween&&this.horizontalSpeedTween.pause(),void(e?(e*=1e3,i=i||this.horizontalVelocityScalar<t?a.easing.quadraticIn:a.easing.quadraticOut,this.horizontalSpeedTween=a(i,this,"horizontalVelocityScalar",t,e,n)):this.horizontalVelocityScalar=t))},c.prototype.setVerticalVelocityScalar=function(t,e,i,n){return void 0===t?this.verticalVelocityScalar:(this.verticalSpeedTween&&this.verticalSpeedTween.pause(),void(e?(e*=1e3,i=i||this.verticalVelocityScalar<t?a.easing.quadraticIn:a.easing.quadraticOut,this.verticalSpeedTween=a(i,this,"verticalVelocityScalar",t,e,n)):this.verticalVelocityScalar=t))},c.prototype.attachPointerListeners=function(){this.trackingPointer||(this.trackingPointer=!0,o?(r(this.container).on("drag",this.dragEventHandler),this.container.addEventListener("touchmove",i)):this.container.addEventListener("mousemove",this.pointerEventHandler),this.emitter.emit("pointer tracking start"))},c.prototype.detachPointerListeners=function(){this.trackingPointer&&(this.trackingPointer=!1,o?(r(this.container).off("drag",this.dragEventHandler),this.container.removeEventListener("touchmove",i)):this.container.removeEventListener("mousemove",this.pointerEventHandler),this.emitter.emit("pointer tracking stop"))},c.prototype.dragEventHandler=function(t){this.horizontalVelocity=t.gesture.velocityX,this.verticalVelocity=t.gesture.velocityY,this.horizontalVelocity<.1&&(this.horizontalVelocity=0),this.verticalVelocity<.1&&(this.verticalVelocity=0),this.horizontalVelocity>1&&(this.horizontalVelocity=1),this.verticalVelocity>1&&(this.verticalVelocity=1),t.gesture.deltaX<0&&(this.horizontalVelocity*=-1),t.gesture.deltaY<0&&(this.verticalVelocity*=-1)},c.prototype.pointerEventHandler=function(t){var e=t.changedTouches&&t.changedTouches[0]||t,i=e.clientX-this.left,n=e.clientY-this.top;this.horizontalVelocity=this.horizontalVelocityGradient(i-this.halfWidth,0,i>this.halfWidth?-1:1,this.halfWidth),this.verticalVelocity=this.verticalVelocityGradient(n-this.halfHeight,0,n>this.halfHeight?-1:1,this.halfHeight)},c.prototype.setCssStyle=function(t,e,i){return void 0===e?this.element.style[t]:(void 0!==i&&this.setCssTransition(t,i+"s"),void(this.element.style[t]=e))},c.prototype.setCssTransform=function(t,e){return void 0===e?this.cssTransforms[t]:(this.cssTransforms[t]=e,void this.updateMultiAttributeStyle(s.transformAttribute,this.cssTransforms))},c.prototype.setCssFilter=function(t,e,i){return void 0===e?this.cssFilters[t]:(void 0!==i&&this.setCssTransition(s.cssFilterAttribute,i+"s"),this.cssFilters[t]=e,void this.updateMultiAttributeStyle(s.filterAttribute,this.cssFilters))},c.prototype.setCssTransition=function(t,e){return void 0===e?this.cssTransitions[t]:(this.cssTransitions[t]=e,void this.updateMultiAttributeStyle(s.transitionAttribute,this.cssTransitions,!0))},c.prototype.updateMultiAttributeStyle=function(t,e,i){var n,r="",o=!0;for(n in e)e.hasOwnProperty(n)&&(o?o=!1:r+=i?", ":" ",r+=i?n+" "+e[n]:n+"("+e[n]+")");this.element.style[t]=r}},{"../bower_components/easy-tween/dist/easyTween.js":1,"../bower_components/eventEmitter/EventEmitter.js":2,"../bower_components/hammerjs/hammer.js":3,"./utils.js":5}],5:[function(t,e,i){"use strict";var n=i.noop=function(){};i.requestFullscreen=document.documentElement.requestFullscreen||document.documentElement.mozRequestFullScreen||document.documentElement.webkitRequestFullscreen||n;var r=document.body.style;i.transformAttribute=void 0!==r.msTransform&&"msTransform"||void 0!==r.webkitTransform&&"webkitTransform"||void 0!==r.MozTransform&&"MozTransform"||"transform",i.transitionAttribute=void 0!==r.msTransition&&"msTransition"||void 0!==r.webkitTransition&&"webkitTransition"||void 0!==r.MozTransition&&"MozTransition"||"transition",i.filterAttribute=void 0!==r.msFilter&&"msFilter"||void 0!==r.webkitFilter&&"webkitFilter"||void 0!==r.MozFilter&&"MozFilter"||"filter",i.cssFilterAttribute=void 0!==r.msFilter&&"-ms-filter"||void 0!==r.webkitFilter&&"-webkit-filter"||void 0!==r.MozFilter&&"-moz-filter"||"filter",i.cssTransformAttribute=void 0!==r.msTransform&&"-ms-transform"||void 0!==r.webkitTransform&&"-webkit-transform"||void 0!==r.MozTransform&&"-moz-transform"||"filter"},{}]},{},[4])(4)});
//# sourceMappingURL=BigSurface.min.js.map